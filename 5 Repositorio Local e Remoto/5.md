# Lidando com Conflitos no Git
Conflitos no Git acontecem quando duas ou mais altera√ß√µes entram em conflito durante opera√ß√µes como **merge**, **rebase**, ou **cherry-pick**. Eles geralmente ocorrem quando altera√ß√µes diferentes s√£o feitas nas mesmas linhas de um arquivo ou em arquivos diferentes que t√™m depend√™ncias cruzadas.

A resolu√ß√£o de conflitos √© essencial para manter a consist√™ncia e a integridade do c√≥digo no reposit√≥rio.

# 1. Como o Git Detecta Conflitos?
O Git tenta automaticamente mesclar altera√ß√µes durante um **merge** ou **pull**. Quando n√£o consegue decidir qual vers√£o usar, ele marca o arquivo como em **conflito** e deixa a decis√£o para o desenvolvedor.

Exemplo de mensagem de erro:
```
Auto-merging arquivo.txt
CONFLICT (content): Merge conflict in arquivo.txt
Automatic merge failed; fix conflicts and then commit the result.
```
# 2. Fluxo B√°sico de Resolu√ß√£o de Conflitos
1. Identificar os arquivos em conflito.
2. Editar manualmente os arquivos para resolver os conflitos.
3. Marcar os arquivos resolvidos com `git add`.
4. Finalizar a opera√ß√£o com `git commit`.

# 3. Exemplo de Conflito
Imagine que voc√™ tem duas branches: `main` e `nova-funcionalidade`.

## Cen√°rio:
1. Na branch `main`, o arquivo `arquivo.txt` cont√©m:
```
Linha comum
Linha da branch main
```
2. Na branch `nova-funcionalidade`, o mesmo arquivo foi alterado:
```
Linha comum
Linha da branch nova-funcionalidade
```
3. Ao tentar mesclar as branches:
```
git checkout main
git merge nova-funcionalidade
```
## Resultado:
O Git n√£o sabe qual linha manter e marca o arquivo como em conflito:
```
Linha comum
<<<<<<< HEAD
Linha da branch main
=======
Linha da branch nova-funcionalidade
>>>>>>> nova-funcionalidade
```
# 4. Resolvendo Conflitos
## 4.1 Editar o Arquivo Manualmente
1. Abra o arquivo marcado em conflito.

2. Decida qual vers√£o manter:
 - **Manter apenas uma vers√£o**:
```
Linha comum
Linha da branch main
```
- **Combinar as duas vers√µes**:
```
Linha comum
Linha da branch main
Linha da branch nova-funcionalidade
```
Salve o arquivo ap√≥s resolver o conflito.

## 4.2 Marcar o Conflito como Resolvido
1. Adicione o arquivo √† √°rea de stage:
```
git add arquivo.txt
```
2. Finalize a mesclagem:
```
git commit -m "Resolve conflito no arquivo.txt"
```
# 5. Abortar o Processo de Mesclagem
Se voc√™ quiser cancelar completamente a opera√ß√£o de merge ou rebase:
```
git merge --abort
```
Ou, no caso de um rebase:
```
git rebase --abort
```
Isso retornar√° o reposit√≥rio ao estado anterior √† opera√ß√£o.

# 6. Visualizando Conflitos
## 6.1 Verificar Arquivos em Conflito
Para listar os arquivos em conflito:
```
git status
```
Exemplo de sa√≠da:
```
both modified: arquivo.txt
```
## 6.2 Verificar as Diferen√ßas
Para comparar as diferen√ßas entre as vers√µes:
```
git diff
```
# 7. Ferramentas para Resolver Conflitos
## 7.1 Usando o Editor de Texto
A maioria dos editores de texto modernos, como Visual Studio Code, tem suporte para resolu√ß√£o de conflitos, destacando as partes conflitantes e facilitando a escolha.

No **VS Code**:

1. Abra o arquivo em conflito.
2. Escolha uma das op√ß√µes apresentadas:
- **Accept Current Change** (Aceitar a altera√ß√£o atual).
- **Accept Incoming Change** (Aceitar a altera√ß√£o da outra branch).
- **Accept Both Changes** (Aceitar ambas as altera√ß√µes).

## 7.2 Usando Ferramentas Gr√°ficas
Ferramentas como **KDiff3**, **Meld**, ou **P4Merge** podem ajudar na visualiza√ß√£o e resolu√ß√£o de conflitos.

Para configurar uma ferramenta gr√°fica no Git:
```
git config --global merge.tool <nome-da-ferramenta>
git config --global mergetool.prompt false
```
Exemplo com Meld:
```
git config --global merge.tool meld
```
Para usar a ferramenta:
```
git mergetool
```
# 8. Resolvendo Conflitos com Estrat√©gias de Merge
O Git suporta estrat√©gias autom√°ticas para resolver conflitos em alguns casos simples:

## Usando a Estrat√©gia `ours`:
Mant√©m as altera√ß√µes da branch atual:
```
git merge -X ours nova-funcionalidade
```
## Usando a Estrat√©gia `theirs`:
Mant√©m as altera√ß√µes da branch mesclada:
```
git merge -X theirs nova-funcionalidade
```
# 9. Boas Pr√°ticas para Evitar Conflitos
1. **Sincronize frequentemente**:
- Use `git pull` para garantir que sua branch esteja atualizada antes de come√ßar a trabalhar.

2. **Trabalhe em branches separadas**:
- Evite modificar o mesmo arquivo em m√∫ltiplas branches ao mesmo tempo.

3. **Fa√ßa commits pequenos e frequentes**:
- Isso facilita a resolu√ß√£o de conflitos quando eles surgirem.

4. **Use revis√µes de c√≥digo**:
- Antes de mesclar altera√ß√µes, revise o impacto delas no restante do projeto.

5. Comunique-se com sua equipe:
- Coordene as mudan√ßas para minimizar conflitos.

# 10. Resumo dos Comandos
| Comando              | Descri√ß√£o                                           |
| -------------------- | --------------------------------------------------- |
| `git merge <branch>` | Mescla uma branch na branch atual.                  |
| `git status`         | Lista os arquivos em conflito.                      |
| `git diff`           | Mostra as diferen√ßas entre as vers√µes conflitantes. |
| `git add <arquivo>`  | Marca o conflito como resolvido.                    |
| `git merge --abort`  | Cancela o processo de merge.                        |
| `git rebase --abort` | Cancela o processo de rebase.                       |
| `git mergetool`      | Abre a ferramenta gr√°fica para resolver conflitos.  |

Com esses passos, voc√™ estar√° pronto para lidar com conflitos no Git de forma eficiente e sem comprometer o hist√≥rico do reposit√≥rio. üöÄ